<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Co-Pilot Bot</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>   
    <!-- Optional AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <!-- Custom files-->
    <link href="./styles.css" rel="stylesheet">

</head>
<body ng-app="checklistApp" ng-controller="ChecklistController">
    <div class="container mt-4">
        <div class="row">
            <!-- Chat Window -->
            <div class="col-md-4">
                <div class="border bg-light p-3" style="height: 500px;">
                    <div class="bg-primary text-white p-2">Pilot Log</div>
                    <div class="mt-3 chat-content" id="chat-content" ng-ref="chatContentDiv" style="height: 400px; overflow-y: scroll;">
                        <!-- Rendering Messages with ng-repeat -->
                        <div ng-repeat="message in messages" class="text-{{message.color}}">
                            <span ng-bind-html="message.text"></span>
                        </div>
                    </div>
                    <textarea class="form-control mt-3" ng-model="chatMessage" ng-keypress="sendMessage($event)" id="chat-message" placeholder="Type your message..."></textarea>
                    <div class="d-flex mt-2 justify-content-start align-items-center">
                        <button class="btn btn-primary" ng-click="sendMessage()" id="send-button">Send</button>
                        <!-- New Colored Buttons -->
                        <button class="btn btn-success ml-2" ng-click="handleButtonPress('A')">A</button>
                        <button class="btn btn-warning ml-2" ng-click="handleButtonPress('B')">B</button>
                        <button class="btn btn-warning ml-2" ng-click="handleButtonPress('C')">C</button>
                        <button class="btn btn-danger ml-2"  ng-click="handleButtonPress('D')">D</button>
                    </div>
                    <div>State: {{ state }}</div>
                    </div>
            </div>
            <!-- Panel of Buttons -->
            <div class="col-md-8">
                <div class="row no-gutter">
                    <!-- Preflight -->
                    <div class="col d-flex flex-column align-items-center">
                        <h5 class="custom-header text-center">Preflight</h5>
                        <button class="btn mb-2 uniform-width small-text slim-button" 
                            ng-class="{'btn-primary': walkaroundStarted, 'btn-secondary': !walkaroundStarted}" 
                            ng-click="setState('Walkaround'); startWalkaround()" 
                            ng-disabled="walkaroundStarted">
                            Walkaround
                        </button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Pre-Power Checklist')">Pre-Power Checklist</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Cockpit Prep Checklist')">Cockpit Prep Checklist</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Pre-Boarding')">Pre-Boarding</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Init A')">MCDU: Init A</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('EFB')">EFB</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Flight Plan')">MCDU: Flight Plan</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Flight Director')">Flight Director</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Init B')">MCDU: Init B</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Radnav')">MCDU: Radnav</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Perf')">MCDU: Perf</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('IFR Clearance')">IFR Clearance</button>
                    </div>
            
                    <!-- Taxi -->
                    <div class="col d-flex flex-column align-items-center">
                        <h5 class="custom-header text-center">Taxi</h5>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Pushback & Engines')">Pushback & Engines</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Taxi')">Taxi</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Pre-Takeoff')">Pre-Takeoff</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Takeoff')">Takeoff</button>
                    </div>
            
                    <!-- Flight -->
                    <div class="col d-flex flex-column align-items-center">
                        <h5 class="custom-header text-center">Flight</h5>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('After Takeoff')">After Takeoff</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Cruise')">Cruise</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Descent Prep')">Descent Prep</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Descent')">Descent</button>
                    </div>
            
                    <!-- Landing -->
                    <div class="col d-flex flex-column align-items-center">
                        <h5 class="custom-header text-center">Landing</h5>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Approach')">Approach</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Landing')">Landing</button>
                    </div>
            
                    <!-- After-Landing -->
                    <div class="col d-flex flex-column align-items-center">
                        <h5 class="custom-header text-center">After-Landing</h5>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('After Landing Checklist')">After Landing Checklist</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Taxi-2')">Taxi</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Parking')">Parking</button>
                        <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Shutdown')">Shutdown</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- custom JS-->
    <script src="./script.js"></script>
    
</body>
</html>