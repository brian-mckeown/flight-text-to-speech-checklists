<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Co-Pilot Bot</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>   
    <!-- Include FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Google Fonts-->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <!-- Optional AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <!-- Custom files-->
    <link href="./styles.css" rel="stylesheet">

</head>
<body ng-app="checklistApp" ng-controller="ChecklistController">

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <!-- Branding Text -->
            <a class="navbar-brand" href="#">
                <i class="fas fa-plane"></i> flightdash.io
            </a>
            
            <!-- Toggler for mobile -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
    
            <!-- Navbar content -->
            <div class="collapse navbar-collapse" id="navbarContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <!-- Settings Icon -->
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="modal" data-bs-target="#settingsModal" href="#"><i class="fas fa-cog"></i> Settings</a>
                    </li>
                    <!-- Info Icon -->
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="modal" data-bs-target="#aboutModal" href="#"><i class="fas fa-info-circle"></i> About</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-4 main-content-container">
        <div class="row mb-5 clearfix">
            <!-- Chat Window -->
            <div class="col-md-4">
                <div class="border bg-light p-3 chat-container">
                    <div class="bg-primary text-white p-2">Pilot Log</div>
                    <div class="mt-3 chat-content chat-bg" id="chat-content" ng-ref="chatContentDiv">
                        <!-- Rendering Messages with ng-repeat -->
                        <div ng-repeat="message in messages" class="text-{{message.color}} chat-msg-bg">
                            <span ng-bind-html="message.text"></span>
                        </div>
                    </div>
                    <input type="text" class="form-control mt-3" ng-model="chatMessage" ng-keypress="sendMessage($event)" id="chat-message" placeholder="Type your message...">

                    <div class="d-flex mt-2 justify-content-start align-items-center">
                        <button class="btn btn-primary" ng-click="sendMessage()" id="send-button">Send</button>
                        <!-- New Colored Buttons -->
                        <button class="btn btn-success ml-2" ng-click="handleButtonPress('A')">A</button>
                        <button class="btn btn-warning ml-2" ng-click="handleButtonPress('B')">B</button>
                        <button class="btn btn-warning ml-2" ng-click="handleButtonPress('C')">C</button>
                        <button class="btn btn-danger ml-2"  ng-click="handleButtonPress('D')">D</button>
                        <button class="btn btn-secondary ml-2"  ng-click="handleButtonPress('Reset')">Reset</button>
                    </div>
                    <div>State: {{ state }}</div>
                    </div>
            </div>
            <!-- Panel of Buttons -->
            <div class="col-md-8">
                <!-- Tabs Header -->
                <ul class="nav nav-tabs">
                    <li class="nav-item">
                        <a class="nav-link" ng-click="activeTab='checklists'" ng-class="{'active': activeTab === 'checklists'}">Checklists</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" ng-click="activeTab='airports'" ng-class="{'active': activeTab === 'airports'}">Airports</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" ng-click="activeTab='flightPlan'" ng-class="{'active': activeTab === 'flightPlan'}">Flight Plan</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" ng-click="activeTab='charts'" ng-class="{'active': activeTab === 'charts'}">Charts</a>
                    </li>
                </ul>

                <!-- Checklists Tab -->
                <div ng-show="activeTab === 'checklists'">
                    <div class="row no-gutter">
                        <!-- Preflight -->
                        <div class="col d-flex flex-column align-items-center">
                            <h5 class="custom-header text-center">Preflight</h5>
                            <button class="btn mb-2 uniform-width small-text slim-button" 
                                ng-class="{'btn-primary': walkaroundStarted, 'btn-secondary': !walkaroundStarted}" 
                                ng-click="setState('Walkaround'); startWalkaround()" 
                                ng-disabled="walkaroundStarted">
                                Walkaround
                            </button>
                            <button class="btn mb-2 uniform-width small-text slim-button" 
                                ng-class="{'btn-primary': prePowerChecklistStarted, 'btn-secondary': !prePowerChecklistStarted}"
                                ng-click="setState('Pre-Power Checklist'); startPrePowerChecklist()"
                                ng-disabled="prePowerChecklistStarted">
                                Pre-Power Checklist
                            </button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Cockpit Prep Checklist')">Cockpit Prep Checklist</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Pre-Boarding')">Pre-Boarding</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Init A')">MCDU: Init A</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('EFB')">EFB</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Flight Plan')">MCDU: Flight Plan</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Flight Director')">Flight Director</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Init B')">MCDU: Init B</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Radnav')">MCDU: Radnav</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('MCDU: Perf')">MCDU: Perf</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('IFR Clearance')">IFR Clearance</button>
                        </div>
                
                        <!-- Taxi -->
                        <div class="col d-flex flex-column align-items-center">
                            <h5 class="custom-header text-center">Taxi</h5>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Pushback & Engines')">Pushback & Engines</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Taxi')">Taxi</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Pre-Takeoff')">Pre-Takeoff</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Takeoff')">Takeoff</button>
                        </div>
                
                        <!-- Flight -->
                        <div class="col d-flex flex-column align-items-center">
                            <h5 class="custom-header text-center">Flight</h5>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('After Takeoff')">After Takeoff</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Cruise')">Cruise</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Descent Prep')">Descent Prep</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Descent')">Descent</button>
                        </div>
                
                        <!-- Landing -->
                        <div class="col d-flex flex-column align-items-center">
                            <h5 class="custom-header text-center">Landing</h5>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Approach')">Approach</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Landing')">Landing</button>
                        </div>
                
                        <!-- After-Landing -->
                        <div class="col d-flex flex-column align-items-center">
                            <h5 class="custom-header text-center">After-Landing</h5>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('After Landing Checklist')">After Landing Checklist</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Taxi-2')">Taxi</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Parking')">Parking</button>
                            <button class="btn btn-secondary mb-2 uniform-width small-text slim-button" ng-click="setState('Shutdown')">Shutdown</button>
                        </div>
                    </div>
                </div>

                <!-- Airports Tab -->
                <div ng-show="activeTab === 'airports'">
                    <!-- Content for Airports -->
                    <div class="row mt-5 clearfix icao-row">
                        <div class="gray-banner text-center py-2">
                            <h5>Airport Data</h5>
                        </div>            
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <div class="form-group">
                                <label for="icaoCode">ICAO</label>
                                <input type="text" class="form-control" id="icaoCode" ng-model="icao" maxlength="4" ng-change="convertToUpperCase()">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Flight Plan Tab -->
                <div ng-show="activeTab === 'flightPlan'">
                    <!-- Content for Flight Plan -->
                </div>

                <!-- Charts Tab -->
                <div ng-show="activeTab === 'charts'">
                    <!-- Content for Charts -->
                </div>
                
            </div>
        </div>
    </div>

    <!-- Modals-->
    <!-- Settings Modal -->
<div class="modal fade" id="settingsModal" tabindex="-1" aria-labelledby="settingsModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="settingsModalLabel">Settings</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <label for="checklistDropdown">Checklist</label>
            <select class="form-select" id="checklistDropdown">
                <option>Airbus A320 - Default</option>
                <option>Cessna 172 - mentoneflyingclub.org</option>
            </select>
            <div class="form-check form-switch mt-3">
                <input class="form-check-input" type="checkbox" id="customChecklistToggle">
                <label class="form-check-label" for="customChecklistToggle">Custom Checklist</label>
              </div>
              <div id="customChecklistUploader" style="display: none;">
                <label for="customChecklistUpload" class="mt-3">Custom Checklist CSV</label>
                <input type="file" class="form-control" id="customChecklistUpload">
                <a href="#" class="mt-2 d-block">CSV Template</a>
            </div>
            <label for="metarSourceDropdown" class="mt-3">METAR Source</label>
            <select class="form-select" id="metarSourceDropdown">
                <option>beta.aviationweather.gov</option>
                <option>metar.vatsim.net</option>
            </select>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  
  <!-- About Modal -->
  <div class="modal fade" id="aboutModal" tabindex="-1" aria-labelledby="aboutModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="aboutModalLabel">About</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <!-- About content here -->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Terms of Use Modal-->
  <div class="modal fade" id="termsOfUseModal" tabindex="-1" role="dialog" aria-labelledby="termsOfUseModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="termsOfUseModalLabel">Terms of Use</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <h2 class="text-center">Terms of Use for flightdash.io</h2>
    <p><strong>Last Updated:</strong> October 26th, 2023</p>

    <p>Welcome to flightdash.io. Please read these Terms of Use ("Terms", "Terms of Use") carefully before using the flightdash.io website (the "Service") operated by the flightdash.io development team ("us", "we", or "our").</p>

    <h4>1. Acceptance of Terms</h4>
    <p>By accessing and using flightdash.io, you agree to be bound by these Terms. If you disagree with any part of the terms, then you may not access the Service.</p>

    <h4>2. Purpose of the Service</h4>
    <p>The Service is provided for flight simulation purposes only. It is not intended for real-life aviation, navigation, or any purpose other than entertainment and simulation.</p>

    <h4>3. Responsibility</h4>
<p>flightdash.io is designed primarily for flight simulation purposes and is offered "as is" and "as available". The application suggests runways based on wind calculations, provides checklists, weather updates, flight plans, and charts. While these tools and data are sourced to be as accurate as possible, they rely on third-party providers. As such, discrepancies or inaccuracies may occur.</p>
<p>While this information can be used as a supplementary tool, it's paramount to adhere to the directions provided by Air Traffic Control (ATC) for active runways, ensure the accuracy of runway data, and refer to relevant NOTAMs. Additionally, always ensure you cross-reference with other reliable sources when considering checklists, weather, flight plans, and charts. Relying on the data and recommendations provided by this application is solely at your discretion and risk. We make no representations or guarantees, express or implied, regarding the operation of the Service, or the accuracy, completeness, or reliability of any content provided.</p>
<p>It's crucial to understand that no tool, including flightdash.io, can replace professional judgment or supersede official aviation procedures and safety guidelines. Under no circumstances should the Service or its data be used for real-world aviation purposes. By leveraging the data and suggestions from flightdash.io, you acknowledge and agree that the developers, maintainers, contributors, and all associated parties of the website/application are absolved from any responsibility or liability for any occurrences or outcomes related to the use of the provided data and suggestions.</p>

    <p>Under no circumstances should the Service be used for real-life aviation or navigation. We are not responsible for any decisions or actions you take based on the information provided by the Service, and we expressly disclaim any liability for any damage or injury that may result from such decisions or actions.</p>

    <h4>4. Open Source</h4>
    <p>flightdash.io is open source, which means the source code of the Service is freely available for modification and distribution. While you are free to use, modify, and distribute the source code, you do so at your own risk.</p>

    <h4>5. Data Privacy</h4>
    <p>We value your privacy. flightdash.io does not collect, store, or process any personal data. Any data you input into the Service is processed locally and is not transmitted to or stored by us.</p>

    <h4>6. Limitation of Liability</h4>
    <p>In no event shall flightdash.io, its directors, developers, employees, partners, agents, suppliers, or affiliates, be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses, resulting from (a) your use or inability to use the Service; (b) any unauthorized access to or use of our servers and/or any personal information stored therein; or (c) any other matter relating to the Service.</p>

    <h4>7. Termination</h4>
    <p>We reserve the right to terminate or suspend your access to the Service, without prior notice, for conduct that we believe violates these Terms or is harmful to other users of the Service, us, or third parties, or for any other reason.</p>

    <h4>8. Changes to These Terms</h4>
    <p>We may revise these Terms from time to time. The most current version will always be on this page. By continuing to use the Service after those revisions become effective, you agree to be bound by the revised Terms.</p>

    <h4>9. Governing Law</h4>
    <p>These Terms are governed by the laws of the Commonwealth of Massachusetts, United States of America, without regard to its conflict of law provisions.</p>

    <h4>10. Contact Us</h4>
    <p>If you have any questions about these Terms, please contact us at [Your Contact Information].</p>

    <p class="text-center"><strong>By using flightdash.io, you acknowledge that you have read, understood, and agree to be bound by these Terms.</strong></p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

  <footer class="footer">
    <div class="container">
        <div class="row">
            <div class="col-md-8">
                <a href="#" data-bs-toggle="modal" data-bs-target="#termsOfUseModal">Terms of Use</a> |
                <a href="#">Privacy Policy</a> |
                <a href="#">Cookies</a> |
                <a href="#">Contact</a>
            </div>
            <div class="col-md-4 text-end">
                Version: {{ versionNumber }}
            </div>
        </div>
    </div>
</footer>


    <!-- custom JS-->
    <script src="./script.js"></script>
    <script src="./vanilla-js.js"></script>
    
</body>
</html>